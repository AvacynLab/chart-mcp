# ⚠️ Exemple de configuration — ne pas committer vos vrais secrets.
# Copiez ce fichier en `.env` pour le backend FastAPI ou exportez les variables.

# Authentification et exposition API/MCP.
API_TOKEN=changeme_dev_token
NEXT_PUBLIC_API_TOKEN=changeme_dev_token
MCP_API_TOKEN=changeme_dev_token
MCP_API_BASE=http://localhost:8000
MCP_SESSION_USER=regular
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Configuration marché / services internes.
EXCHANGE=binance
OHLC_CACHE_TTL_SECONDS=120
OHLC_CACHE_MAX_ENTRIES=256
FEATURE_FINANCE=true
RATE_LIMIT_PER_MINUTE=60

# LLM et fournisseurs — OpenAI uniquement pour les runs réels (pas pour les E2E Playwright).
LLM_PROVIDER=openai
LLM_MODEL=gpt-5-nano
# OPENAI_API_KEY=sk-<your-openai-key-here>

# Flux SSE.
STREAM_HEARTBEAT_MS=5000
LOG_LEVEL=INFO

# SearxNG (search artefact).
SEARXNG_BASE_URL=http://localhost:8080
SEARXNG_TIMEOUT=10

# Frontend Next.js (lorsque servi depuis le même .env).
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000

# Notes E2E : exporter `PLAYWRIGHT=1`, `PLAYWRIGHT_TEST_BASE_URL=http://localhost:3000`
# (NextAuth fait confiance à `localhost`) et `PLAYWRIGHT_USE_REAL_SERVICES=0` avant
# d'exécuter `pnpm exec playwright test`.  Laissez également `AUTH_TRUST_HOST=true`
# (valeur par défaut fournie par la configuration Playwright) pour éviter les
# erreurs "Host must be trusted".  Ne définissez pas OPENAI_API_KEY pour ces runs
# afin de rester sur le mock. Pour les runs manuels "réels", définissez
# explicitement OPENAI_API_KEY et `PLAYWRIGHT_USE_REAL_SERVICES=1`.

# Builds frontend sans Postgres : exportez `SKIP_DB_MIGRATIONS=1` pour ignorer les
# migrations Drizzle lors des compilations locales/CI qui reposent sur la base
# de données en mémoire utilisée par Playwright.
